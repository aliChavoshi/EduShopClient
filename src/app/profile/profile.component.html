<mat-sidenav-container>
  <mat-sidenav #sidenav [opened]="sidenavOpen" [mode]="sidenavOpen ? 'side' : 'over'" class="mat-sidenav">
    <div class="container w-100">
      <div class="list-group w-100">
        <ng-container *ngFor="let link of links; let i = index">
          <a
            [routerLink]="link.href"
            [routerLinkActive]="'active'"
            (click)="title = link.name; !sidenavOpen ? sidenav.close() : null"
            class="list-group-item align-items-center list-group-item-action d-flex gap-3 py-3"
          >
            <!-- <ng-container *ngIf="unreadNotifications$ | async as notifications">
              <span *ngIf="link.href === 'notifications' && notifications.length > 0" class="badge bg-danger">{{ notifications?.length }}</span></ng-container
            > -->
            <div class="d-flex gap-2 w-100 justify-content-between align-items-center text-center">
              <h6 class="mb-0">{{ link.name }}</h6>
              <i class="{{ link.icon }}"></i>
            </div>
          </a>
        </ng-container>
        <a (click)="accountService.logout()" class="list-group-item align-items-center list-group-item-action d-flex gap-3 py-3">
          <div class="d-flex gap-2 w-100 justify-content-between align-items-center text-center">
            <h6 class="mb-0">خروج</h6>
            <i class="fa-solid fa-right-from-bracket"></i>
          </div>
        </a>
      </div>
    </div>
  </mat-sidenav>
  <mat-sidenav-content class="mat-content">
    <div class="alert alert-primary">
      <button *ngIf="!sidenavOpen" class="btn" (click)="sidenav.toggle()">
        <span class="fas fa-bars"></span>
      </button>
      <h4 class="d-inline">{{ title }}</h4>
    </div>
    <div class="profile-wrapper border mt-2 rounded mat-elevation-z1" style="min-height: 380px">
      <router-outlet></router-outlet>
    </div>
  </mat-sidenav-content>
</mat-sidenav-container>
